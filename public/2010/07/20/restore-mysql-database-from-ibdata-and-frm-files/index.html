
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Restore MySQL Database from ibdata and .frm Files - Everything is Gray</title>
  <meta name="author" content="James Barclay">

  
  <meta name="description" content="Last week I was presented with a problem that involved restoring a MySQL database for a client using only the /data folder from an original MySQL &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://everythingisgray.herokuapp.com/2010/07/20/restore-mysql-database-from-ibdata-and-frm-files">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Everything is Gray" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Everything is Gray</a></h1>
  
    <h2>A place to put stuff.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:everythingisgray.herokuapp.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Restore MySQL Database From Ibdata and .frm Files</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-20T18:48:54-07:00" pubdate data-updated="true">Jul 20<span>th</span>, 2010</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Last week I was presented with a problem that involved restoring a MySQL database for a client using only the <code>/data</code> folder from an original MySQL installation. The solution turned out to be rather simple, but that didn&rsquo;t stop me from racking my brain for a few hours. Thus, I thought I&rsquo;d share my experience in hopes of helping others that may run into this.</p>

<p><em>NOTE</em> The MySQL database I was tasked with restoring was associated with a WordPress installation. My guess is that this is irrelevant, though.</p>

<p><em>ALSO NOTE</em> This article assumes you are comfortable with software solutions such as <a href="http://www.mamp.info/en/index.html">MAMP</a> and/or <a href="http://www.apachefriends.org/en/xampp.html">XAMPP</a>, as well as <a href="http://www.phpmyadmin.net/home_page/index.php">phpMyAdmin</a>.</p>

<p>I made the decision early on to solve this problem locally, (I find that working directly from a web server usually just gets me into trouble). Â I use MAMP on a regular basis and as such have quite a few MySQL databases associated with that installation. Rather than fooling with this at all I opted to use XAMPP on a Windows XP SP2 machine. Either one of these solutions will work, as they essentially provide the same services. I chose to avoid using MAMP on my machine because of everything I have invested into that application, but that doesn&rsquo;t mean you have to.</p>

<p>The first thing you&rsquo;ll want to do is install a fresh copy of either MAMP, (Mac only), or XAMPP. Then create an empty database using phpMyAdmin with the same name as your original database, (the one you&rsquo;re trying to restore). For example, if your previous database was called &lsquo;wordpress,&rsquo; in phpMyAdmin, (under the &lsquo;Create new database&rsquo; text field), you would enter &lsquo;wordpress.&rsquo; This will create a folder named <code>wordpress</code> in <code>/Applications/MAMP/db/mysql</code> if you&rsquo;re using MAMP, or <code>C:\xampp\mysql</code> if you&rsquo;re using XAMPP. At this point you&rsquo;ll want to turn off the MySQL service. Now, copy the contents of, (not the entire folder), your mysql database folder that contains the .frm files to the new location. The next step is to copy the <code>ibdata1</code> file to the MySQL folder in either XAMPP or MAMP, then start the MySQL service again. Now you should be able to locate your database tables in phpMyAdmin.</p>

<p>At this point, (assuming you don&rsquo;t want to keep the data locally on your machine), you&rsquo;ll want to export the database using phpMyAdmin. Be sure to check Add DROP TABLE, choose SQL as the export type, and check the &lsquo;Save as file&rsquo; checkbox. The .sql file that will be generated can easily be imported into another instance of phpMyAdmin. The new database doesn&rsquo;t need to have the same name as the previous database, either. I was unable to use my previous database name because the site I was working on had been moved to a shared hosting server, (where someone had already chosen the name of my previous database), and everything worked fine.</p>

<p>Also keep in mind that this can be accomplished whether or not your server is running phpMyAdmin. There are plenty of alternatives available that will allow you to accomplish the same tasks, and there&rsquo;s always the command line. The most important step is to simply copy the contents of the <code>/data</code> folder and the <code>ibdata1</code> file. Hope this helps!</p>

<p>Leave a comment if you have any questions!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">James Barclay</span></span>

      








  


<time datetime="2010-07-20T18:48:54-07:00" pubdate data-updated="true">Jul 20<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/category/technology/'>Technology</a>, <a class='category' href='/category/web-development/'>Web Development</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://everythingisgray.herokuapp.com/2010/07/20/restore-mysql-database-from-ibdata-and-frm-files/" data-via="futureimperfet" data-counturl="http://everythingisgray.herokuapp.com/2010/07/20/restore-mysql-database-from-ibdata-and-frm-files/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/2010/04/16/in-store-signing-at-pages-bookstore/" title="Previous Post: In-Store Signing at Pages Bookstore">&laquo; In-Store Signing at Pages Bookstore</a>
      
      
        <a class="basic-alignment right" href="/2010/08/18/how-i-use-automator-to-post-images-to-tumblr/" title="Next Post: Automatically Post Images to Tumblr Using Automator">Automatically Post Images to Tumblr Using Automator &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2010/08/18/how-i-use-automator-to-post-images-to-tumblr/">Automatically Post Images to Tumblr Using Automator</a>
      </li>
    
      <li class="post">
        <a href="/2010/07/20/restore-mysql-database-from-ibdata-and-frm-files/">Restore MySQL Database From Ibdata and .frm Files</a>
      </li>
    
      <li class="post">
        <a href="/2010/04/16/in-store-signing-at-pages-bookstore/">In-Store Signing at Pages Bookstore</a>
      </li>
    
      <li class="post">
        <a href="/2010/03/19/msu-comics-forum/">MSU Comics Forum</a>
      </li>
    
      <li class="post">
        <a href="/2010/02/15/configure-archive-utility-in-mac-os-x/">Configure Archive Utility in Mac OS X</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/futureimperfect">@futureimperfect</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'futureimperfect',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - James Barclay -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'everythingisgray';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://everythingisgray.herokuapp.com/2010/07/20/restore-mysql-database-from-ibdata-and-frm-files/';
        var disqus_url = 'http://everythingisgray.herokuapp.com/2010/07/20/restore-mysql-database-from-ibdata-and-frm-files/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
